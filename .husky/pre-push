#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Check for han-solo session
if [ -f ".hansolo/session.json" ]; then
  echo "❌ han-solo session active!"
  echo "📝 Use: hansolo ship --push"
  exit 1
fi

# Prevent direct pushes to main
branch=$(git branch --show-current)
if [ "$branch" = "main" ] || [ "$branch" = "master" ]; then
  echo "❌ No direct pushes to $branch"
  exit 1
fi
